<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Fair Focus Media</title>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
      integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="styles.css" />
    <link
      rel="stylesheet"
      href="https://getbootstrap.com/docs/4.4/examples/carousel/carousel.css"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    
  </head>
  
  <body>
    <header></header>
    <main>
        <section>
            <div class="jumbotron">
                <h1 class="display-4">Fair Focus Media</h1>
                <p class="lead">We are a for non-profit video production company</p>
                <hr class="my-4">
            </div>
        </section>
        <hr class="featurette-divider">

        <section>
            <h1>Announcement</h1>
            <p>In response to the Wuhan-virus going around. We understand the need for social distancing. But we also understand the need for content output as everyone is undergoing quarantine and the banning of social gathering. We have put together several introductory packages that is conscious of both the budget and of the precautionary required of the time. In addition, we also have payment plans.</p>
        </section>
        <hr class="featurette-divider">

        <section>
            <h1>Videos</h1>
            <div id="videoCarousel" class="carousel slide" data-ride="carousel">
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <iframe width="100%" height="100%" src="https://www.youtube.com/embed/LPA8xeuEL88"></iframe>
                    </div>
                    <div class="carousel-item">
                        <iframe width="100%" height="100%" src="https://www.youtube.com/embed/HKXr0gWNgHA"></iframe>
                    </div>
                    <div class="carousel-item">
                        <iframe width="100%" height="100%" src="https://www.youtube.com/embed/RAUna0CL4kc"></iframe>
                    </div>
        
                </div>
                <a class="carousel-control-prev" href="#videoCarousel" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#videoCarousel" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>
        </section>
        <hr class="featurette-divider">

                
        <section>
          <h1>Programs</h1>
          <div class="accordion" id="accordionExample">
            <div class="card">
              <div class="card-header" id="headingOne">
                <h2 class="mb-0">
                  <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                    COVID-19 Response
                  </button>
                </h2>
              </div>
              <div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-parent="#accordionExample">
                <div class="card-body">
                  <p></p>
                  <br>
                  <button class="btn btn-primary sign-up" data-itemId="1" type="button">Sign up</button data-itemId="2">
                </div>
              </div>
            </div>

            <div class="card">
              <div class="card-header" id="headingTwo">
                <h2 class="mb-0">
                  <button class="btn btn-link" type="button" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                    4 for 1
                  </button>
                </h2>
              </div>
          
              <div id="collapseTwo" class="collapse show" aria-labelledby="headingTwo" data-parent="#accordionExample">
                <div class="card-body">
                  A program for word performer; For poets and linguistically talented. We are doing a split video session for 4 individual artists to perform their poetry. Each artist will get a 3-5 minutes video featuring their art. For a quality price of 180. Sign up now for more information. 

                  <br>
                  <button class="btn btn-primary sign-up" data-itemId="2" type="button">Sign up</button data-itemId="1">
                </div>
              </div>
            </div>

            <div class="card">
              <div class="card-header" id="headingThree">
                <h2 class="mb-0">
                  <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                    Passion Project
                  </button>
                </h2>
              </div>
              <div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordionExample">
                <div class="card-body">
                  <p>
                    We offer a pro bono video to a project that has artistic merit.

                  </p>
                  <p>
                    Every 4 months, we will randomly pick a project that we pre-judged to have enough artistic merit to do for free. So if you have a good story to tell, an artistic vision, a quick sketch, or just a really cool idea. To sign up here to be on our email list. So we can send you offers of cool video promotions.
                  </p>
                  <br>
                  <button class="btn btn-primary sign-up" data-itemId="3" type="button">Sign up</button data-itemId="2">
                </div>
              </div>
            </div>

            <div class="card">
              <div class="card-header" id="headingFour">
                <h2 class="mb-0">
                  <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                    Artist Spotlight
                  </button>
                </h2>
              </div>
              <div id="collapseFour" class="collapse" aria-labelledby="headingFour" data-parent="#accordionExample">
                <div class="card-body">
                  A program just for aspiring artist. Need to tell the world what you are all about? We offer a 3-5 minutes video personal interview featuring you and your works. Just for 600. Sign up below for more information. 
                  <br>
                  <button class="btn btn-primary sign-up" data-itemId="4" type="button">Sign up</button data-itemId="1">
                </div>
              </div>
            </div>
          </div>
        </section>
        <hr class="featurette-divider">

        <section>
            <h1>Contact</h1>
            <form id="send-contact" type="submit">
                <div class="form-group">
                  <label for="formGroupNameInput">Name</label>
                  <input type="text" class="form-control" id="formGroupNameInput" placeholder="Name" required >
                </div>
                <div class="form-group">
                  <label for="formGroupEmailInput">Email <span id="spnEmailValid"></span></label>
                  <input type="email" class="form-control" id="formGroupEmailInput" placeholder="Email" required 
                    title="Please provide a valid email.">
                </div>
                <div class="form-group">
                    <div class="dropdown" id="myDropdown">
                        <label for="dropdownMenuButton">Subject</label>
                        <br>
                        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">None</button>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                          <a class="dropdown-item" data-itemid="1" href="">COVID-19 Response</a>
                          <a class="dropdown-item" data-itemid="2" href="">4 for 1</a>
                          <a class="dropdown-item" data-itemid="3" href="">Passion Project</a>
                          <a class="dropdown-item" data-itemid="4" href="">Artist Spotlight</a>
                          <a class="dropdown-item" data-itemid="5" href="">Comments & Inquiries</a>
                        </div>
                    </div>
                    <div id="comment-text" >
                        <textarea class="form-control" name="commentInput" type="text" placeholder="comment/inquiry"></textarea>
                    </div>
                </div>
                <button id="btnSend" type="submit" class="btn btn-primary">send</button>
            </form>

        </section>
        <hr class="featurette-divider">

        <footer class="container">
            <p class="float-right"><a href="#">Back to top</a></p>
            <p>© 2019 Fair Focus Media · <a href="#">Privacy</a> · <a href="#">Terms</a></p>
          </footer>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    <script>
      
      $(document).ready(function() {
        // $("#collapseOne").collapse();
        $("#comment-text").hide();
        let contact = { name: "", email: "", subject: "", comment: "" };

        $(".dropdown-item").on("click", function(event) {
          event.preventDefault();
          selectFromDropdown($(this));
        });

        $(".sign-up").on("click", function(event) {
          event.preventDefault();
          let itemId = $(this).data("itemid");
          let dropdownItem = $(`#myDropdown [data-itemid="${itemId}"]`);
          selectFromDropdown(dropdownItem);
        });

        function selectFromDropdown(buttonElement) {
          $("#dropdownMenuButton").text(buttonElement.text());
          let dataItemId = parseInt(buttonElement.data("itemid"));
          let commentText = $("#comment-text");
          if (dataItemId === 5) commentText.show();
          else commentText.hide();
        }

        function validateEmail(email) {
          var re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
          return re.test(email);
        }

        $("#send-contact").on("submit", function(event) {
          event.preventDefault();
          contact.name = $("#formGroupNameInput")
            .val()
            .trim();
          contact.email = $("#formGroupEmailInput")
            .val()
            .trim();
          contact.subject = $("#dropdownMenuButton").text();
          contact.comment = $("#comment-text [name=commentInput]")
            .val()
            .trim();

          console.log(`sending contact info to FFM.org.`);
          console.log(`name: ${contact.name}`);
          console.log(`email: ${contact.email}`);
          console.log(`subject: ${contact.subject}`);
          console.log(`comment: ${contact.comment}`);

          // $.ajax(`/api/emailToFfm`, {
          //     type: "POST",
          //     data: contact
          // }).then( () => location.reload() );
          let isEmailValid = validateEmail(contact.email);
          if (!isEmailValid) {
            $("#spnEmailValid").text("Invalid email");
            $("#formGroupEmailInput").val("");
            return;
          }

          $("#spnEmailValid").text("");
          let ajaxurl = "ajax.php";
          let data = {
            name: contact.name,
            email: contact.email,
            subject: contact.subject,
            comment: contact.comment
          };
          $.post(ajaxurl, data, res => {
            alert("action performed successfully.");
          });
        });
      });

    </script>
  </body>
</html>
